@inject IJSRuntime _jsRuntime

@if (_newVersionAvailable)
{
@*     <button type="button" class="btn btn-warning shadow floating-update-button" onclick="window.location.reload()">
        Aplikace byla aktualizována. Klikněte pro aktivaci.
    </button> *@
    <FluentButton class="floating-update-button" OnClick="ReloadPage">
    Aplikace byla aktualizována. Klikněte pro aktivaci. Foo</FluentButton>
}

@code {

    private bool _newVersionAvailable = false;

    protected override async Task OnInitializedAsync()
    {
        await RegisterForUpdateAvailableNotification();
    }

    private async Task RegisterForUpdateAvailableNotification()
    {
        await _jsRuntime.InvokeAsync<object>(
            identifier: "registerForUpdateAvailableNotification",
            DotNetObjectReference.Create(this),
            nameof(OnUpdateAvailable));
    }

    [JSInvokable(nameof(OnUpdateAvailable))]
    public Task OnUpdateAvailable()
    {
        _newVersionAvailable = true;

        StateHasChanged();

        return Task.CompletedTask;
    }

    private async Task ReloadPage()
    {
        await _jsRuntime.InvokeVoidAsync("window.location.reload");
    }
}